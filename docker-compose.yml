version: '3'

services:
  app:
    # Using a Dockerfile is optional, but included for completeness.
    build: 
      context: .
      dockerfile: Dockerfile
      # [Optional] You can use build args to set options. e.g. 'VARIANT' below affects the image in the Dockerfile
      args: 
        VARIANT: buster
    ports:
      - 8765:8765
    volumes:
      # This is where VS Code should expect to find your project's source code and the value of "workspaceFolder" in .devcontainer/devcontainer.json
      - .:/workspace:cached
      - /mnt/c/DATA/repos/REPODATA/hmtc:/hmtc:ro
      - ./hmtc/config:/config
    environment:
      - ENVIRONMENT=production